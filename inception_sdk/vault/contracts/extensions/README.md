# Contracts API Extensions

This folder contains temporary `contracts_api` extensions and corresponding stubs that we expect will be made available through the package shortly.

## How to use

The package can be generated by navigating to the folder and then running `python3.10 setup.py bdist_wheel`
The resulting wheel can then be installed via pip as usual (e.g. `pip install dist/contracts_api_extensions-0.453.1-py3-none-any.whl`)

To use with `plz` , the `//inception_sdk/vault/contracts/extensions/contracts_api_extensions` target can be added as a dependency to the relevant rules.

## Notes

The package is versioned as `0.<vault-version-as-an-integer>.<internal-patch-version>`. For example `0.453.1` is our first patch for the stubs that work alongside Vault 4.5.3's `contracts_api`. Patches shouldn't result in any type changes, so `0.453.0` and `0.454.0` should be identical.

## Updating Extensions

The process is entirely manual today:

- Identify the changes to the smart contracts and supervisor contracts `vault` object
- Update the `vault_types.py` and `vault_types.pyi` files accordingly. As `contracts_api` doesn't define any type for `vault` objects, we must create the file and the stubs, instead of creating a stub-only package like we do for `contracts_api` types.
