# features
import library.features.common.addresses as common_addresses

# Common addresses used across the lending features whose ownership is not easily attributable
# to a single feature without creating unwarranted dependencies
ACCRUED_INTEREST_RECEIVABLE = "ACCRUED_INTEREST_RECEIVABLE"
DUE_CALCULATION_EVENT_COUNTER = "DUE_CALCULATION_EVENT_COUNTER"
EMI = "EMI"
INTERNAL_CONTRA = common_addresses.INTERNAL_CONTRA
INTEREST_DUE = "INTEREST_DUE"
INTEREST_OVERDUE = "INTEREST_OVERDUE"
NON_EMI_ACCRUED_INTEREST_RECEIVABLE = "NON_EMI_ACCRUED_INTEREST_RECEIVABLE"
PENALTIES = common_addresses.PENALTIES
PRINCIPAL = "PRINCIPAL"
PRINCIPAL_DUE = "PRINCIPAL_DUE"
PRINCIPAL_OVERDUE = "PRINCIPAL_OVERDUE"

# CAPITALISED_INTEREST_TRACKER, ACCRUED_INTEREST_PENDING_CAPITALISATION and
# ACCRUED_OVERDUE_INTEREST_PENDING_CAPITALISATION are only defined here right now as they must be
# included in ALL_OUTSTANDING. Intention is to move these to the feature specifically and allow
# products to define their own list of addresses in addition to default ones.
CAPITALISED_INTEREST_TRACKER = "CAPITALISED_INTEREST_TRACKER"
ACCRUED_INTEREST_PENDING_CAPITALISATION = "ACCRUED_INTEREST_PENDING_CAPITALISATION"
ACCRUED_OVERDUE_INTEREST_PENDING_CAPITALISATION = "ACCRUED_OVERDUE_INTEREST_PENDING_CAPITALISATION"

DUE_ADDRESSES = [PRINCIPAL_DUE, INTEREST_DUE]
OVERDUE_ADDRESSES = [PRINCIPAL_OVERDUE, INTEREST_OVERDUE]
LATE_REPAYMENT_ADDRESSES = OVERDUE_ADDRESSES + [PENALTIES]
REPAYMENT_HIERARCHY = LATE_REPAYMENT_ADDRESSES + DUE_ADDRESSES

# This is used to redistribute the overpaid portion of a repayment.
OVERPAYMENT_HIERARCHY = [PRINCIPAL, ACCRUED_INTEREST_RECEIVABLE]
OVERPAYMENT_HIERARCHY_SUPERVISOR = [
    [PRINCIPAL, ACCRUED_INTEREST_RECEIVABLE, NON_EMI_ACCRUED_INTEREST_RECEIVABLE],
]
DEBT_ADDRESSES = REPAYMENT_HIERARCHY + [PRINCIPAL]
ALL_OUTSTANDING = [
    *DEBT_ADDRESSES,
    ACCRUED_INTEREST_RECEIVABLE,
    ACCRUED_OVERDUE_INTEREST_PENDING_CAPITALISATION,
]
ALL_OUTSTANDING_SUPERVISOR = ALL_OUTSTANDING + [NON_EMI_ACCRUED_INTEREST_RECEIVABLE]
ALL_PRINCIPAL = [PRINCIPAL] + [PRINCIPAL_DUE] + [PRINCIPAL_OVERDUE]
